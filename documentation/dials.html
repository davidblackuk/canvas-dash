---
layout: default
title: cDash | Dials
---

<div id="content-single">

	<h1>Dials</h1>

    <h2>The basics</h2>

	<p>The cDash library constsis of a single jQuery extension method. Which if called with no options, renders a 360 degree dial in the default chocolate theme.</p>

	<p>The built in styles are: </p>
	<ul>
		<li>blue</li>
		<li>chocolate</li>
		<li>dark</li>
		<li>metro</li>
	</ul>

	<p>You can create dials with themes quite easily (click the try me button to open the edior  and try the commented out code). Don't forget the canvas element on your own pages.</p>

<pre class="prettyprint tryMe">

//  $("#canvas").cDash({theme: "metro"});
//  $("#canvas").cDash({theme: "dark"});
//  $("#canvas").cDash({theme: "blue"});
//  $("#canvas").cDash({theme: "chocolate"});

    // No theme
    $("#canvas").cDash();

</pre>

<p>The dial will fill the canvas (at least to the maximum amount it can to maintain its aspect ratio). The dials were designed to be rendered on canvases at a size of about 200 x 200. Smaller sizes of canvases may lead to the dial looking strange as the size of the ticks and scale bands etc will be too large. To address this you need to either fully specify the sizes of these items in the options, or, use a built in display set.</p>
<p>There are two built-in display sets, 'medium' and small'. Below there are three dials at 200x200, 100x100 and 50x50. </p>

<p>See how the default sizes look terrible on the smaller sized dials.</p>

<pre class="prettyprint">

     $("#d1").cDash({theme: "blue"});
     $("#d2").cDash({theme: "blue"});
     $("#d3").cDash({theme: "blue"});


</pre>


<div class="excent">
    <canvas width="200" height="200" id="d1"> </canvas>
    <canvas width="100" height="100" id="d2"> </canvas>
    <canvas  width="50" height="50" id="d3"> </canvas>
</div>

<p>And here is the result of applying the display sets: medium and small</p>

<pre class="prettyprint ">

    $("#d1").cDash({theme: "blue"});
    $("#d2").cDash({theme: "blue", displaySet:"medium"});
    $("#d3").cDash({theme: "blue", displaySet:"small"});


</pre>


<div class="excent">
    <canvas width="200" height="200" id="d4"> </canvas>
    <canvas width="100" height="100" id="d5"> </canvas>
    <canvas  width="50" height="50" id="d6"> </canvas>
</div>

<p>The display sets reduce the number of major and minor ticks, modify the scale text etc. All of these types of adjustments can be made
manually if desired (much, much more of that later)</p>

<h3>Accessing the dial object and setting the value</h3>

<p>The dial creation method stores the dial object as a data property on the canvas jQuery object. You will need to retrieve the actual dial object if you want to update the dial value subsequently, or call other methods. By default the dial is stored using the key 'dbDashboard' </p>

<p>As an example of using the javascript object directly let's look at updating the dial value after initialization</p>

<pre class="prettyprint ">

    // our dial is rendered in canvas id: canvas
    $("#canvas").cDash();
    var dial =  $("#canvas").data("dbDashboard");
    dial.value(34);


</pre>

<p>Multiple dials on one canvas won't work with a default id (king of the obvious, talking here) so you can override the id that gets used in the options object.</p>


<pre class="prettyprint tryMe">

     $("#canvas").cDash({id:"myDial"});
    var dial =  $("#canvas").data("myDial");
    dial.value(34);

</pre>

<h2>Options, more options and even more options</h2>

<p>There are a lot of options to control the appearance of the dials and sliders. The options are segmented by the area of the dial they control.</p>

<p>The anatomy of a dial is as follows</p>

<image class="excent" src="../images/dialAnatomy.png"/>

<p>The typescript definition of the top level options interface is:</p>




<pre class="prettyprint ">

    /**
     *  Options to control the behaviour and styling of dials
     */
    export interface DialOptions {
        type?:string;
        orientation?: string;
 
        x?: number;
        y?: number;
        width?: number;
        height?: number;
        baseRunOutSize:number;

        face: FaceOptions;
        value:ValueOptions;
        bezel:BezelOptions;
        glass: GlassOptions;
        needle:NeedleOptions;
        scale:ScaleOptions;
    }


</pre>

<table class="propsTable">
    <tr>
        <td>x, y, width, height:</td>
        <td>
            No surprises here these set the position and size of the dial on the canvas. All of these are optional. If omitted the dial will scale to fill the entire canvas.  
        </td>
    </tr>
    <tr>
        <td>type:</td>
        <td>
            The optional type field sets the main look of the dial and can be one of the following
            <ul>
                <li>Dial360</li>
                <li>Dial180</li>
                <li>Slider</li>
            </ul>
            The default type  is Dial360
        </td>
    </tr>
    <tr>
        <td>orientation:</td>
        <td>
            The optional orientation field sets the direction of the dial, currently it is supported bu the Dial180 and the Slider classes. The orientation
        can be one of the following
        <ul>
            <li>North (or N)</li>
            <li>South (or S)</li>
            <li>East (or E)</li>
            <li>West (or W)</li>
        </ul>
        The default orientation is  North
        </td>
    </tr>
    
    <tr>
        <td>baseRunOutSize:</td>
        <td>
            Used in the styling of 180 degree dials. Sets the size of the area at the bottom of the dial (for a north facing dial) where the value is placed
        </td>
    </tr>
</table>

<h3>Face options</h3>
<p> The typescript definition of the face interface for a dial is as follows

<pre class="prettyprint ">

    export interface FaceOptions{
        gradientColor1: string;
        gradientColor2: string;
    }


</pre>

<p>This is hardly the most complex options class :-) The face of the dial is rendered as a gradient between two colors. The colors are any valid HTML 5 Canvas color (#rrggbb, rgb(r,g,b), color name etc. Currently you cannot have an rgba color function, as transparency does not work.</p>

<p> Use the same color for both to get a solid color face.</p>


<table  class="propsTable">
    <tr>
        <td>gradientColor1:
        </td>
        <td>The lower gradient color
        </td>
    </tr>
    <tr>
        <td>gradientColor2: 
        </td>
        <td>The upper gradient color
        </td>
    </tr>
   
</table>

<p>You can have a play with these settings by hitting the 'try me' button below</p>

<pre class="prettyprint tryMe">

    var x = $("#canvas").cDash({
      face: {
        gradientColor1: "black",
        gradientColor2: "#222222",
      }
    }).data("dbDashboard");

    x.value(50);

</pre>

<h3>Value options</h3>

<p>The value options object controls the appearance of the value label as it appears on the dial face</p>
<p> The typescript interface definition for the Value object is: </p>


<pre class="prettyprint">

    export interface ValueOptions {
        min: number;
        max: number;
        decimalPlaces: number;
        margin: number;
        font: FontOptions;    
    }


</pre>

<p> and the definition of the contained FontOptions interface is

<pre class="prettyprint">

    export interface FontOptions {
        family: string;
        pixelSize: number;
        strokeStyle: string;
        fillStyle: string;
    }


</pre>







<table class="propsTable">
    <tr>
        <td>min:
        </td>
        <td>The minimum value the dial will display (default  0)
        </td>
    </tr>
    <tr>
        <td>max:
        </td>
        <td> The maximum value the dial will display (default  100)
        </td>
    </tr>
    <tr>
        <td>decimalPlaces:
        </td>
        <td> number of decimal places to display for the value (default 0)
        </td>
    </tr>
    <tr>
        <td>margin:
        </td>
        <td> pixel offset from ythe dial edge to the value
        </td>
    </tr>
    <tr>
        <td>font:
        </td>
        <td> <p>The definition of the font to use to render the value</p>
            <table class="propsTable">
                <tr>
                    <td>family:
                    </td>
                    <td> The font family used to display the text
                    </td>
                </tr>
                <tr>
                    <td>pixelSize: 
                    </td>
                    <td>The pixel size to use for the font
                    </td>
                </tr>
                <tr>
                    <td>strokeStyle:
                    </td>
                    <td> The color to use for the text stroke
                    </td>
                </tr>
                <tr>
                    <td> fillStyle:
                    </td>
                    <td> the color to use for the text fill
                    </td>
                </tr>

            </table>


        </td>
    </tr>

</table>

<p>If you want to experiment, here's an example where we shift the value up in the dial and make it bigger</p>

<pre class="prettyprint tryMe">

    var x = $("#canvas").cDash({
      value :{
            min:32,
            max: 134,
            decimalPlaces:1,
            margin: 60,
            font: {
                family: "verdana",
                pixelSize:18,
                fillStyle: "white"
            }
        }
    }).data("dbDashboard");

    x.value(114);

</pre>

<h3>Bezel Options</h3>
<p>The bezel is the band that runs around the dial. The typescript definition of the BezelOptions is</p>

<pre class="prettyprint">

    export interface BezelOptions {
        margin:number;
        width:number;
        strokeStyle: string;
        visible: boolean;
    }


</pre>

The properties of the BezelOptions object are:

<table class="propsTable">
    <tr>
        <td> margin
        </td>
        <td> the distance from the dial edge to the center of the bezel
        </td>
    </tr>
    <tr>
        <td> width
        </td>
        <td> the pixel width of the line that represents the bezel
        </td>
    </tr>
    <tr>
        <td> strokeStyle
        </td>
        <td> the style to use to draw the bezel
        </td>
    </tr>
    <tr>
        <td> visible
        </td>
        <td> a value indicating if the bezel should be visible or not (default true)
        </td>
    </tr>

</table>

<p> For your experimental pleasure you can play with the code below. Notice that as the bezel grows and shrinks the scale readusts to fit</P>


<pre class="prettyprint tryMe">

    var x = $("#canvas").cDash({
       bezel: {
            margin: 10,
            width: 10,
            strokeStyle: "white",
            visible: true
        }
    }).data("dbDashboard");

    x.value(66);

</pre>

<h3>Glass options</h3>

<p>The glass options class specifies the style of the glass layer rendered over the top off all layers. It is a simple class whoose interfcae is</p>

<pre class="prettyprint">

       export interface GlassOptions {
        shape: string;
        visible: boolean;
    }


</pre>

<p>The properties of the GlassOptions class are:</p>


<table class="propsTable">
    <tr>
        <td>shape:
        </td>
        <td> There are two shapes that the glass can have. Pass the value 'out' (default) for the first and 'inOut' for the second
        </td>
    </tr>
    <tr>
        <td>visible
        </td>
        <td>Gets a value indicating if the glass layer is visible
        </td>
    </tr>

</table>

<p>As usual it's easier to experiment</p>

<pre class="prettyprint tryMe">

    var x = $("#canvas").cDash({
       glass: {
            visible: true,
            shape: "out"  // try "inOut"
        }
    }).data("dbDashboard");

    x.value(66);

</pre>

<h3>Needle optionsd</h3>

<p>The NeedleOptions iunterface for the dial gauges is</p>



<pre class="prettyprint">

      export interface NeedleOptions {

        fillStyle:string;
        strokeStyle:string;
        strokeWidth:number;
        width:number;
        margin:number;
        shadowColor:string;
        shadowBlur:number;
        shadowX:number;
        shadowY:number;

    }

</pre>

<p>These properties have the following meaning



<table class="propsTable">
    <tr>
        <td>fillStyle:
        </td>
        <td>the fill style of the needle 
        </td>
    </tr>
    <tr>
        <td>strokeStyle:
        </td>
        <td> stroke style for the needle stroke
        </td>
    </tr>
    <tr>
        <td>strokeWidth:
        </td>
        <td> stroke width for the line around the needle
        </td>
    </tr>
    <tr>
        <td>width: 
        </td>
        <td> the width of the needle (very subjective to dial type, experiment with the number)
        </td>
    </tr>
    <tr>
        <td>margin:
        </td> The margin from the inside edge of the bezel (again experiment dials are different to sliders)
        <td>
        </td>
    </tr>
    <tr>
        <td>shadowColor:
        </td>
        <td> the fill color for the shadow
        </td>
    </tr>    
    <tr>
        <td>shadowBlur:
        </td>
        <td> the blur radious
        </td>
    </tr>
    <tr>
        <td>shadowX:
        </td>
        <td>X offset in pixels for the shadow
        </td>
    </tr>
    <tr>
        <td>shadowY:
        </td>
        <td> Y offset in pixels for the shadow
        </td>
    </tr>

</table>

<p>Here's some code to try out</p>

<pre class="prettyprint tryMe">

    var x = $("#canvas").cDash({
       needle: {
         fillStyle:"black",
        strokeStyle:"white",
        strokeWidth:1.5,
        width:5,
        margin:10,
        shadowColor:"#eeee",
        shadowBlur:3,
        shadowX:2,
        shadowY:2,
        }
    }).data("dbDashboard");

    x.value(66);

</pre>





<table class="propsTable">
    <tr>
        <td>
        </td>
        <td>
        </td>
    </tr>
    <tr>
        <td>
        </td>
        <td>
        </td>
    </tr>
    <tr>
        <td>
        </td>
        <td>
        </td>
    </tr>
    <tr>
        <td>
        </td>
        <td>
        </td>
    </tr>

</table>


<table class="propsTable">
    <tr>
        <td>
        </td>
        <td>
        </td>
    </tr>
    <tr>
        <td>
        </td>
        <td>
        </td>
    </tr>
    <tr>
        <td>
        </td>
        <td>
        </td>
    </tr>
    <tr>
        <td>
        </td>
        <td>
        </td>
    </tr>

</table>


<table class="propsTable">
    <tr>
        <td>
        </td>
        <td>
        </td>
    </tr>
    <tr>
        <td>
        </td>
        <td>
        </td>
    </tr>
    <tr>
        <td>
        </td>
        <td>
        </td>
    </tr>
    <tr>
        <td>
        </td>
        <td>
        </td>
    </tr>

</table>


<script type="text/javascript">
    $(function(){
        $("#documentationButton").addClass("selectedPage");
    });

    $("#d1").cDash({theme: "blue"});
    $("#d2").cDash({theme: "blue"});
    $("#d3").cDash({theme: "blue"});

    $("#d4").cDash({theme: "blue"});
    $("#d5").cDash({theme: "blue", displaySet:"medium"});
    $("#d6").cDash({theme: "blue", displaySet:"small"});

</script>